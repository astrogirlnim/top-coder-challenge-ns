<svg xmlns="http://www.w3.org/2000/svg" width="1400" height="1100">
  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="10" refY="5" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L10,5 L0,10 L2,5 z" fill="#333" />
    </marker>
  </defs>
  <!-- Input -->
  <rect x="50" y="40" width="180" height="60" fill="#e0f7fa" stroke="#333" stroke-width="2"/>
  <text x="140" y="75" font-size="18" text-anchor="middle" fill="#222">Input</text>
  <text x="140" y="95" font-size="14" text-anchor="middle" fill="#222">Days, Miles, Receipts</text>
  <!-- Base Per Diem -->
  <rect x="300" y="40" width="220" height="60" fill="#fffde7" stroke="#333" stroke-width="2"/>
  <text x="410" y="75" font-size="16" text-anchor="middle" fill="#222">Base Per Diem</text>
  <text x="410" y="95" font-size="13" text-anchor="middle" fill="#222">(by trip length)</text>
  <line x1="230" y1="70" x2="300" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- Mileage Calculation -->
  <rect x="300" y="130" width="220" height="60" fill="#fffde7" stroke="#333" stroke-width="2"/>
  <text x="410" y="165" font-size="16" text-anchor="middle" fill="#222">Mileage Component</text>
  <text x="410" y="185" font-size="13" text-anchor="middle" fill="#222">(tiered rates)</text>
  <line x1="140" y1="100" x2="410" y2="130" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- Efficiency-Based Receipt Processing -->
  <rect x="600" y="40" width="320" height="320" fill="#f3e5f5" stroke="#333" stroke-width="2"/>
  <text x="760" y="70" font-size="18" text-anchor="middle" fill="#222">Efficiency-Based Receipt Processing</text>
  <text x="760" y="95" font-size="14" text-anchor="middle" fill="#222">(miles/day zones)</text>
  <!-- Zones -->
  <text x="620" y="120" font-size="14" fill="#222">&gt;1000 mi/day: Extreme Penalty (10%)</text>
  <text x="620" y="150" font-size="14" fill="#222">600-900 mi/day: Super Productivity</text>
  <text x="640" y="170" font-size="13" fill="#222">1-day: Receipts &gt; $1200 → 0.2x excess</text>
  <text x="620" y="200" font-size="14" fill="#222">400-600 mi/day: Moderate Penalty</text>
  <text x="620" y="230" font-size="14" fill="#222">180-220 mi/day: Sweet Spot (75%)</text>
  <text x="620" y="260" font-size="14" fill="#222">100-180 mi/day: Standard (65%)</text>
  <text x="620" y="290" font-size="14" fill="#222">&lt;100 mi/day: Low Efficiency (50%)</text>
  <line x1="520" y1="70" x2="600" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- Special Adjustments -->
  <rect x="980" y="40" width="200" height="200" fill="#ffe0b2" stroke="#333" stroke-width="2"/>
  <text x="1080" y="70" font-size="16" text-anchor="middle" fill="#222">Special Adjustments</text>
  <text x="1080" y="95" font-size="13" text-anchor="middle" fill="#222">5-day bonus</text>
  <text x="1080" y="115" font-size="13" text-anchor="middle" fill="#222">Small receipt penalty</text>
  <text x="1080" y="135" font-size="13" text-anchor="middle" fill="#222">Rounding bug bonus</text>
  <text x="1080" y="155" font-size="13" text-anchor="middle" fill="#222">Per-day spending penalty:</text>
  <text x="1080" y="170" font-size="12" text-anchor="middle" fill="#222">4-6d: &gt;$120/day → penalty</text>
  <text x="1080" y="185" font-size="12" text-anchor="middle" fill="#222">7+d: &gt;$90/day → penalty</text>
  <line x1="920" y1="70" x2="980" y2="70" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- 1-day soft landing annotation -->
  <rect x="600" y="380" width="320" height="60" fill="#ffe0e1" stroke="#c00" stroke-width="2"/>
  <text x="760" y="410" font-size="15" text-anchor="middle" fill="#c00">1-day, &gt;1000 miles, receipts &gt; $1000: 0.1x first $1000, 0.4x excess</text>
  <line x1="760" y1="360" x2="760" y2="380" stroke="#c00" stroke-width="2" marker-end="url(#arrow)"/>
  <!-- Output -->
  <rect x="1200" y="220" width="200" height="60" fill="#c8e6c9" stroke="#333" stroke-width="2"/>
  <text x="1300" y="255" font-size="18" text-anchor="middle" fill="#222">Total Reimbursement</text>
  <line x1="1180" y1="140" x2="1200" y2="250" stroke="#333" stroke-width="2" marker-end="url(#arrow)"/>
</svg> 